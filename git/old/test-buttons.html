<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git Simulator - Button Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #2c3e50; color: white; }
        .test-section { margin: 20px 0; padding: 15px; background: #34495e; border-radius: 8px; }
        button { margin: 5px; padding: 8px 12px; background: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #2980b9; }
        .status { margin: 10px 0; padding: 10px; background: #1abc9c; border-radius: 4px; }
        .error { background: #e74c3c; }
        .success { background: #27ae60; }
    </style>
</head>
<body>
    <h1>üß™ Git Simulator Button Test</h1>
    
    <div class="test-section">
        <h3>Repository Setup</h3>
        <button onclick="testFunction('gitInit')">git init</button>
        <button onclick="testFunction('gitClone')">git clone</button>
        <button onclick="testFunction('gitConfig')">git config</button>
        <div id="setup-status" class="status">Ready to test...</div>
    </div>

    <div class="test-section">
        <h3>Recording Changes</h3>
        <button onclick="testFunction('gitStatus')">git status</button>
        <button onclick="testFunction('gitAdd')">git add .</button>
        <button onclick="testFunction('gitAddFile')">git add file</button>
        <button onclick="testFunction('gitCommit')">git commit</button>
        <button onclick="testFunction('gitCommitMessage')">git commit -m</button>
        <div id="changes-status" class="status">Ready to test...</div>
    </div>

    <div class="test-section">
        <h3>Viewing History</h3>
        <button onclick="testFunction('gitLog')">git log</button>
        <button onclick="testFunction('gitLogOneline')">git log --oneline</button>
        <button onclick="testFunction('gitLogGraph')">git log --graph</button>
        <button onclick="testFunction('gitShow')">git show</button>
        <div id="history-status" class="status">Ready to test...</div>
    </div>

    <div class="test-section">
        <h3>Branching</h3>
        <button onclick="testFunction('gitBranch')">git branch</button>
        <button onclick="testFunction('gitBranchCreate')">git branch create</button>
        <button onclick="testFunction('gitCheckout')">git checkout</button>
        <button onclick="testFunction('gitMerge')">git merge</button>
        <div id="branch-status" class="status">Ready to test...</div>
    </div>

    <div class="test-section">
        <h3>Test Results</h3>
        <div id="test-results"></div>
        <button onclick="runAllTests()">üöÄ Run All Tests</button>
        <button onclick="clearResults()">Clear Results</button>
    </div>

    <script src="git-simulator.js"></script>
    <script>
        let testResults = [];

        function testFunction(functionName) {
            try {
                if (typeof window[functionName] === 'function') {
                    // Try to call the function
                    window[functionName]();
                    updateStatus(functionName, 'success', `‚úÖ ${functionName} works!`);
                    testResults.push({name: functionName, status: 'success'});
                } else {
                    updateStatus(functionName, 'error', `‚ùå ${functionName} not found!`);
                    testResults.push({name: functionName, status: 'error', message: 'Function not found'});
                }
            } catch (error) {
                updateStatus(functionName, 'error', `‚ùå ${functionName} error: ${error.message}`);
                testResults.push({name: functionName, status: 'error', message: error.message});
            }
        }

        function updateStatus(functionName, status, message) {
            // Find the appropriate status div
            const sections = {
                'gitInit': 'setup-status',
                'gitClone': 'setup-status', 
                'gitConfig': 'setup-status',
                'gitStatus': 'changes-status',
                'gitAdd': 'changes-status',
                'gitAddFile': 'changes-status',
                'gitCommit': 'changes-status',
                'gitCommitMessage': 'changes-status',
                'gitLog': 'history-status',
                'gitLogOneline': 'history-status',
                'gitLogGraph': 'history-status',
                'gitShow': 'history-status',
                'gitBranch': 'branch-status',
                'gitBranchCreate': 'branch-status',
                'gitCheckout': 'branch-status',
                'gitMerge': 'branch-status'
            };

            const statusDiv = document.getElementById(sections[functionName]);
            if (statusDiv) {
                statusDiv.textContent = message;
                statusDiv.className = `status ${status}`;
            }
        }

        function runAllTests() {
            testResults = [];
            const functions = [
                'gitInit', 'gitClone', 'gitConfig',
                'gitStatus', 'gitAdd', 'gitAddFile', 'gitCommit', 'gitCommitMessage',
                'gitLog', 'gitLogOneline', 'gitLogGraph', 'gitShow',
                'gitBranch', 'gitBranchCreate', 'gitCheckout', 'gitMerge'
            ];

            functions.forEach(func => {
                setTimeout(() => testFunction(func), 100);
            });

            setTimeout(() => {
                displayResults();
            }, 2000);
        }

        function displayResults() {
            const resultsDiv = document.getElementById('test-results');
            let html = '<h4>Test Summary:</h4>';
            
            const successful = testResults.filter(r => r.status === 'success').length;
            const failed = testResults.filter(r => r.status === 'error').length;
            
            html += `<p><strong>‚úÖ Successful: ${successful}</strong></p>`;
            html += `<p><strong>‚ùå Failed: ${failed}</strong></p>`;
            
            if (failed > 0) {
                html += '<h5>Failed Functions:</h5><ul>';
                testResults.filter(r => r.status === 'error').forEach(result => {
                    html += `<li>${result.name}: ${result.message || 'Unknown error'}</li>`;
                });
                html += '</ul>';
            }
            
            resultsDiv.innerHTML = html;
        }

        function clearResults() {
            document.getElementById('test-results').innerHTML = '';
            testResults = [];
            
            // Reset all status divs
            document.querySelectorAll('.status').forEach(div => {
                div.textContent = 'Ready to test...';
                div.className = 'status';
            });
        }

        // Initialize with a simple test
        window.onload = function() {
            console.log('Button test page loaded');
            console.log('Available functions:', Object.keys(window).filter(key => key.startsWith('git')));
        };
    </script>
</body>
</html>
